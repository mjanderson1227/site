---
import { Cannabis } from "lucide-react";
import { ModeToggle } from "@/components/react/mode-toggle";
import { buttonVariants } from "@/components/ui/button";
import { auth } from "@/lib/auth";

const session = await auth.api.getSession({
	headers: Astro.request.headers,
});
---

<div class="flex justify-between lg:px-60 py-4 px-8 items-center">
	<div class="flex gap-8">
		<div class="flex gap-2">
			<Cannabis className="h-8 w-8 text-secondary-foreground" />
			<h1 class="text-2xl text-secondary-foreground">Matthew Anderson</h1>
		</div>
		<nav>
			<ul class="flex gap-2 justify-center items-center h-full space-x-4 py-0">
				<li><a href="/">Home</a></li>
				<li><a href="/about">About</a></li>
				<li><a href="/blog">Blog</a></li>
				<li><a href="/contact">Contact</a></li>
			</ul>
		</nav>
	</div>
	<div class="flex h-full items-center gap-4">
		{
			session ? (
				<a class={buttonVariants({ variant: "default" })} href="/logout">
					Logout
				</a>
			) : (
				<a class={buttonVariants({ variant: "default" })} href="/login">
					Login
				</a>
			)
		}
		<ModeToggle client:load />
	</div>
</div>
